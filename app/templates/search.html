{% extends "base.html" %}
{% import '_snippets.html' as snippets %}

{% block title %}
Search
{% endblock %}

{% block content %}
  <div class="container">
    <div class="col-md-8 pb-4">
      <h1>Search results</h1>
      <div id="custom-search-input">
        <form id="search-page-search-form" class="input-group col-md-12" action="/search" method="GET">
          <input id="search-page-search" type="text" class="form-control input-lg" placeholder="Search ..." name="q" value="{{ query_term }}" required/>
          <div class="input-group-btn">
            <button class="btn btn-default btn-lg" type="submit">
              <i class="fa fa-search"></i>
            </button>
          </div>
        </form>
      </div>
    </div>
    {% if total_count %}
    <div class="col-md-8 pb-4">
      <h4 class="search-summary">{{ total_count }} packages found for <b>"{{ query_term }}"</b></h4>
      {{ snippets.search_package_list(datapackage_list) }}
    </div>
    {% else %}
    <div class="col-md-8 pb-4">
      <h4 class="search-summary">0 packages found for <b>"{{ query_term }}"</b></h4>
    </div>
    {% endif %}
  </div>
{% endblock %}
